<%= content_tag :div, class: ['bordered-cards-component', { "#{@class_name}": @class_name.present? }], style: custom_properties do %>
  <% @cards.each do | card | %>
    <%= content_tag :div, class: ['bordered-card', { "#{card[:class_name]}": card[:class_name].present? }] do %>
      <% if card[:image_url].present? %>
        <div class='bordered-card__image-wrapper'>
          <%= image_pack_tag card[:image_url], alt: card[:title], class: 'bordered-card__image bordered-card__triple-image' %>
        </div>
      <% end %>
      <h2 class='govuk-heading-m bordered-card__title'><%= card[:title] %></h2>
      <% if card[:text].present? %>
        <p class='govuk-body bordered-card__text'><%= card[:text] %></p>
      <% end %>
      <% if card[:list_items].present? %>
        <% card[:list_items].each do |list_item| %>
          <ul class='govuk-body bordered-card__list'>
            <li><%= list_item %></li>
          </ul>
        <% end %>
      <% end %>
      <p class="govuk-body">
        <%= link_to card[:link][:link_title],card[:link][:link_url], class: "ncce-link get-involved-link bordered-card__get-involved-link", data: {
          event_action: 'click', event_category: card[:link][:tracking_page], event_label: card[:link][:tracking_label]
        } %>
      </p>
    <% end %>
  <% end %>
<% end %>
