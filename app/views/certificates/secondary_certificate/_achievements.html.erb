<% presenters.each do |presenter|%>
  <li class="ncce-activity-list__item<%= presenter.list_item_classes(current_user) %>">
    <span class="ncce-activity-list__item-text">
      <span><%= presenter.title %></span>
    </span>
    <% unless presenter.completed?(current_user) %>
      <% if presenter.self_certifiable? %>
        <span class="ihavedonethis">
          <button aria-expanded="true" class="govuk-button button button--small ihavedonethis__button">
          <%= presenter.button_label %>
          </button>
          <span class="ihavedonethis__popup">
            <%= form_for Achievement.new, url: { controller: '/achievements', action: 'create' } do |f| %>
              <span class="govuk-form-group ihavedonethis__group">
                <%= label_tag "#{:self_verification_info.to_s}_#{presenter.id}", presenter.self_verification_info, class: 'govuk-label ihavedonethis__text' %>
                <%= text_field_tag "#{:self_verification_info.to_s}_#{presenter.id}", '', class: 'govuk-input', name: :self_verification_info %>
                <%= f.hidden_field :activity_id, value: presenter.id %>
              </span>
              <%= f.submit 'Complete activity', class: 'govuk-button button button--focus-white' %>
            <% end %>
          </span>
        </span>
      <% else %>
        <%= link_to 'Browse courses', courses_path(certificate: Programme.cs_accelerator.slug), class: 'govuk-button button button--small' %>
      <% end %>
  <% end %>
  <% if presenter.description.present? %>
    <span class="ncce-activity-list__item-activity light-blue-bg"><%= presenter.description %></span>
  <% end %>
  </li>
<% end %>
